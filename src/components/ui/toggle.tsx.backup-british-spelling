"use client";

import React from 'react';

interface ToggleProps {
  pressed?: boolean;
  defaultPressed?: boolean;
  onPressedChange?: (pressed: boolean) => void;
  children: React.ReactNode;
  className?: string;
}

export function Toggle({
  pressed,
  defaultPressed = false,
  onPressedChange,
  children,
  className = '',
}: ToggleProps) {
  const [isPressed, setIsPressed] = React.useState(defaultPressed);
  
  const handleClick = (): void => {
    const newState = !isPressed;
    setIsPressed(newState);
    onPressedChange?.(newState);
  };
  
  const buttonPressed = pressed !== undefined ? pressed : isPressed;
  
  return (
    <button
      type="button"
      aria-pressed={buttonPressed}
      data-state={buttonPressed ? 'on' : 'off'}
      className={`inline-flex items-centre justify-centre rounded-md text-sm font-medium transition-colors 
        data-[state=on]:bg-blue-100 data-[state=on]:text-blue-900
        hover:bg-grey-100 hover:text-grey-900
        focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500
        disabled:pointer-events-none disabled:opacity-50
        ${className}`}
      onClick={handleClick}
    >
      {children}
    </button>
  );
}

export default Toggle;
